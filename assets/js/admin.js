"use strict";jQuery(document).ready(function(a){var s={};function t(t){if(jQuery(".wp-statistics-settings ul.tabs li").removeClass("current"),jQuery(".wp-statistics-settings .tab-content").removeClass("current"),jQuery("[data-tab="+t+"]").addClass("current"),jQuery("#"+t).addClass("current"),jQuery("#wp-statistics-settings-form").length){var e=jQuery(location).attr("href")+"&tab="+t;jQuery("#wp-statistics-settings-form").attr("action",e).submit()}}if(s.global="undefined"!=typeof wps_global?wps_global:[],s._=function(t){return t in this.global.i18n?this.global.i18n[t]:""},s.is_active=function(t){return 1===s.global.options[t]},s.ajax_queue={key:"wp-statistics",time:500},s.ajaxQ=function(n,i,e,o){var t=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"GET";setTimeout(function(){!1!==n&&"metabox"!==n||(n=s.global.metabox_api),jQuery.ajaxq(s.ajax_queue.key,{url:n,type:t,dataType:"json",cache:!1,data:i,success:function(t){n===s.global.metabox_api?t.no_data?jQuery(s.meta_box_inner(i.name)).empty().html(s.no_meta_box_data()):(jQuery(s.meta_box_inner(i.name)).empty().html(s[e].view(t)),s[e].meta_box_init&&setTimeout(function(){s[e].meta_box_init(t)},s.ajax_queue.time)):s[e](t)},error:function(t,e,a){n===s.global.metabox_api?jQuery(s.meta_box_inner(i.name)).empty().html(s[o](t.responseText)):s[o](t.responseText)}})},s.ajax_queue.time)},s.exist_tag=function(t){return jQuery(t).length},s.date_picker=function(t,e){jQuery.fn.datepicker&&jQuery("input[wps-date-picker]").datepicker({dateFormat:this.global.date_format.jquery_ui,onSelect:function(t){var e=a(this).attr("wps-date-picker");0<t.length&&a("input[id=date-"+e+"]").val(moment(t,s.global.date_format.moment_js).format("YYYY-MM-DD"))}})},s.redirect=function(t){window.location.replace(t)},s.sanitize_meta_box_name=function(t){return t.replace("-","_")},s.get_meta_box_method=function(t){return this.sanitize_meta_box_name(t)+"_meta_box"},s.getMetaBoxKey=function(t){return"wp-statistics-"+t+"-widget"},s.placeholder=function(){return'\n<div class="wps-ph-item">\n    <div class="wps-ph-col-12">\n        <div class="wps-ph-picture"></div>\n        <div class="wps-ph-row">\n            <div class="wps-ph-col-6 big"></div>\n            <div class="wps-ph-col-4 empty big"></div>\n            <div class="wps-ph-col-2 big"></div>\n            <div class="wps-ph-col-4"></div>\n            <div class="wps-ph-col-8 empty"></div>\n            <div class="wps-ph-col-6"></div>\n            <div class="wps-ph-col-6 empty"></div>\n            <div class="wps-ph-col-12"></div>\n        </div>\n    </div>\n</div>\n'},s.no_meta_box_data=function(){},s.error_meta_box_data=function(t){return"error dad"},s.get_meta_box_info=function(t){return t in s.global.meta_boxes?s.global.meta_boxes[t]:[]},s.meta_box_lang=function(t,e){return e in s.global.meta_boxes[t].lang?s.global.meta_boxes[t].lang[e]:""},s.meta_box_inner=function(t){return"#"+s.getMetaBoxKey(t)+" div.inside"},s.meta_box_name_by_id=function(t){return t.split("statistics-").pop().split("-widget")[0]},s.meta_box_button=function(t){var e="#"+s.getMetaBoxKey(t)+" button[class=handlediv]",a=s.get_meta_box_info(t);jQuery("#"+s.getMetaBoxKey(t)+" button[class*=wps-refresh], #"+s.getMetaBoxKey(t)+" button[class*=wps-more]").remove(),jQuery('<button class="handlediv button-link wps-refresh" type="button"><span class="dashicons dashicons-update"></span> <span class="screen-reader-text">'+s._("reload")+"</span></button>").insertAfter(e),"page_url"in a&&jQuery('<button class="handlediv button-link wps-more" type="button" onclick="location.href = \''+a.page_url+'\';"><span class="dashicons dashicons-external"></span> <span class="screen-reader-text">'+s._("more_detail")+"</span></button>").insertAfter("#"+s.getMetaBoxKey(t)+" button[class*=wps-refresh]")},s.run_meta_box=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(s.exist_tag("#"+s.getMetaBoxKey(t))&&jQuery("#"+s.getMetaBoxKey(t)).is(":visible")){var a=jQuery(s.meta_box_inner(t)),n=s.get_meta_box_method(t);"placeholder"in s[n]?a.html(s[n].placeholder()):a.html(s.placeholder()),s.meta_box_button(t);var i={name:t};!1!==e&&(i=jQuery.extend({},e,i)),s.ajaxQ("metabox",i,n,"error_meta_box_data")}},s.run_meta_boxes=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!1===t&&(t=Object.keys(s.global.meta_boxes)),t.forEach(function(t){s.run_meta_box(t)})},jQuery(document).on("mouseenter mouseleave",".wps-refresh, .wps-more",function(t){var e=jQuery(".postbox h3, .postbox .handlediv");"mouseenter"===t.type?e.unbind("click.postboxes"):e.bind("click.postboxes")}),jQuery(document).on("click",".wps-refresh",function(t){t.preventDefault();var e=jQuery(this).parent(".postbox").attr("id"),a=s.meta_box_name_by_id(e);s.run_meta_box(a)}),jQuery(document).on("click",'input[type=checkbox][id^="wp-statistics-"][id$="-widget-hide"]',function(){if(jQuery(this).is(":checked")){var t=jQuery(this).attr("id"),e=s.meta_box_name_by_id(t);s.run_meta_box(e)}}),s.browsers_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},s.countries_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},s.hits_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},s.hitsmap_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},s.pages_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},s.quickstats_meta_box={view:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i="";return i+='<table width="100%" class="widefat table-stats wps-summary-stats"><tbody>',n.user_online&&(i+="<tr>\n                    <th>".concat(s._("online_users"),':</th>\n                    <th colspan="2" id="th-colspan"><span><a href="').concat(n.user_online.link,'">').concat(n.user_online.value,"</a></span></th>\n                </tr>")),(s.is_active("visitors")||s.is_active("visits"))&&function(){i+='<tr><th width="60%"></th>',["visitors","visits"].forEach(function(t){i+='<th class="th-center">'+(s.is_active(t)?s._(t):"")+"</th>"}),i+="</tr>";for(var a=["today","yesterday","week","month","year","total"],t=function(e){i+="<tr><th>".concat(s._(a[e]),": </th>"),["visitors","visits"].forEach(function(t){i+='<th class="th-center">'+(s.is_active(t)?'<a href="'.concat(n[t][a[e]].link,'"><span>').concat(n[t][a[e]].value,"</span></a>"):"")+"</th>"}),i+="</tr>"},e=0;e<a.length;e++)t(e)}(),i+="</tbody></table>",i+='<br><hr width="80%"/><br>',i+='<canvas id="wp-statistics-quickstats-meta-box-chart" height="230"></canvas>'},meta_box_init:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=document.getElementById("wp-statistics-quickstats-meta-box-chart").getContext("2d");s.is_active("rtl")&&(Chart.defaults.global.defaultFontFamily="tahoma");var a=[];s.is_active("visitors")&&a.push({label:s._("visitors"),data:t["hits-chart"].visitors,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,fill:!0}),s.is_active("visits")&&a.push({label:s._("visits"),data:t["hits-chart"].visits,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,fill:!0}),new Chart(e,{type:"line",data:{labels:t["hits-chart"].date,datasets:a},options:{responsive:!0,legend:{position:"bottom"},animation:{duration:0},title:{display:!0,text:t["hits-chart"].title},tooltips:{mode:"index",intersect:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}},s.recent_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},s.referring_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},s.search_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},s.summary_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},s.top_visitors_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},s.words_meta_box={placeholder:function(){},view:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]}},jQuery(".wp-statistics-settings").length){var e=function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);if(e)return e[1]}("tab");e&&t(e),jQuery(".wp-statistics-settings ul.tabs li").click(function(){t(jQuery(this).attr("data-tab"))})}function n(t,a){jQuery(document).on("change",t,function(t){t.preventDefault();var e=jQuery(a);this.checked?e.show("slow"):(e.hide("slow"),e.find("input[type=checkbox]").prop("checked",!1))})}n("input[name=wps_visitors]","#visitors_log_tr"),n("input[name=wps_referrerspam]","tr.referrerspam_field"),jQuery(".wp-statistics-welcome").length&&jQuery(".nav-tab-wrapper a").click(function(){var t=jQuery(this).attr("data-tab");return"link"==t||(jQuery(".nav-tab-wrapper a").removeClass("nav-tab-active"),jQuery(".tab-content").removeClass("current"),jQuery("[data-tab="+t+"]").addClass("nav-tab-active"),jQuery("[data-content="+t+"]").addClass("current"),!1)}),s.date_picker(),s.run_meta_boxes()});